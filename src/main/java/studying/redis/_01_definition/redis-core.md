# NoSQL과 Redis

### 1. NoSQL 기본 개념
- Q1. NoSQL이 무엇인가요?
- Q2. NoSQL의 주요 특징은 무엇인가요?
- Q3. NoSQL은 어떤 종류의 데이터를 다루는데 적합한가요?
- Q4. NoSQL의 유형은 어떤 것이 있나요?

### 2. Redis 기본 개념
- Q5. Redis가 무엇인가요?
- Q6. Redis와 RDBMS의 단점을 각각 말해보세요.

### 3. Redis 특징
- Q7. Redis의 실시간 응답 특징은 어떻게 구현되나요?
- Q8. Redis가 지원하는 데이터 구조와 스레드 모델을 설명해보세요.
- Q9. Redis의 고가용성은 어떻게 보장되나요?
- Q10. Redis의 확장성과 클라우드 네이티브 특징을 설명해보세요.

### 4. Redis 도입 시점
- Q11. Redis를 도입해야 하는 시점은 언제인가요?
- Q12. RDBMS 조인 결과를 캐싱할 때 Redis의 장점은 무엇인가요?

### 5. Redis 영속성
- Q13. Redis의 영속성을 위한 두 가지 방식을 설명해보세요.

### 6. MSA에서 Redis 메시지 브로커
- Q14. Redis를 메시지 브로커로 사용하는 방법을 설명해보세요.  
    - List 메시징 큐의 동작 방식과 특징은?
    - Pub/Sub의 동작 방식과 특징은?
    - Redis Stream의 동작 방식과 특징은?

---

## 1. NoSQL 기본 개념

### Q1. NoSQL이 무엇인가요?
**A:** NoSQL은 **Not Only SQL** 또는 **No SQL**을 의미하며, SQL을 사용하지 않는 데이터 저장소입니다.

### Q2. NoSQL의 주요 특징은 무엇인가요?
**A:**
- **실시간 응답** - 빠른 데이터 처리 속도
- **확장성** - 수평적 확장 용이
- **고가용성** - 안정적인 서비스 제공
- **클라우드 네이티브** - 클라우드 환경 최적화
- **단순성** - 복잡한 조인 없이 간단한 구조
- **유연성** - 스키마가 없는 자유로운 데이터 모델링

### Q3. NoSQL은 어떤 종류의 데이터를 다루는데 적합한가요?
**A:** 크기와 구조를 예측할 수 없는 **비정형 데이터**와 **깊은 계층 구조를 가진 데이터**(JSON)를 다루는데 적합합니다.

### Q4. NoSQL의 유형과 각각의 예시를 말해보세요.
**A:**
| 유형 | 설명 | 예시 |
|------|------|------|
| **키-값** | 키를 통해 데이터에 접근하는 가장 단순한 구조 | DynamoDB, ElastiCache, Memcached |
| **문서** | JSON 형태의 계층적 트리 구조로 데이터 저장 | MongoDB, DocumentDB |
| **칼럼** | 칼럼 기반으로 데이터를 저장하고 처리 | Cassandra, HBase |
| **그래프** | 노드와 엣지로 관계를 표현 | Neo4j, Amazon Neptune |

## 2. Redis 기본 개념

### Q5. Redis가 무엇인가요?
**A:** Redis는 **Remote Dictionary Server**의 약자로, 고성능 **key-value 구조**의 **인메모리 NoSQL** 데이터베이스입니다.

### Q6. Redis와 RDBMS의 단점을 각각 말해보세요.
**A:**
| 유형 | 단점 |
|------|------|
| **Redis** | 1. SQL처럼 표현력이 뛰어난 수단이 없음<br/>2. 일부 트랜잭션 기능을 지원하지 않음<br/>3. 비용이 큼 |
| **RDBMS** | 1. 속도가 충분하지 않을 수 있음<br/>2. 일부 데이터 모델을 표현하려면 구현이 복잡해질 수 있음 |

## 3. Redis 특징

### Q7. Redis의 실시간 응답 특징은 어떻게 구현되나요?
**A:** **인메모리** 기반으로 디스크 접근 없이 데이터를 처리하여 빠른 속도를 제공합니다.

### Q8. Redis가 지원하는 데이터 구조와 스레드 모델을 설명해보세요.
**A:**
- **데이터 구조**: String, Hash, List, Set, Sorted Set, Stream
- **스레드 모델**: 이벤트 루프를 이용한 **싱글 스레드** 기반 동작 (메인 스레드 1개 + 보조 스레드 3개)
- 루아 스크립트를 통해 여러 개의 Redis 명령어를 한번에 수행 가능 (한 번에 수행이지만 롤백은 없음)

### Q9. Redis의 고가용성은 어떻게 보장되나요?
**A:**
- **복제(Replication)** 기능으로 여러 서버에 데이터 분산
- **Redis Sentinel**을 통한 자동 장애 조치(Failover)
- 마스터 장애 시 Redis로의 엔드포인트 변경 없이 장애 복구

### Q10. Redis의 확장성과 클라우드 네이티브 특징을 설명해보세요.
**A:**
- **확장성**: **Redis Cluster** 모드를 통한 수평적 확장, 클러스터 버스 프로토콜로 노드 간 통신 및 상태 관리
- **클라우드 네이티브**: 멀티 클라우드 환경 지원, 다양한 클라우드 서비스와 통합

## 4. Redis 도입 시점

### Q11. Redis를 도입해야 하는 시점은 언제인가요?
**A:** RDBMS에서 처리 성능(특히 쓰기 처리)의 병목 현상을 해결할 방법이 필요한 경우입니다.
- ACID 트랜잭션 보장을 위한 WAL(Write-Ahead Logging) 오버헤드
- 인덱스 업데이트와 잠금(Lock) 경합으로 인한 성능 저하

### Q12. RDBMS 조인 결과를 캐싱할 때 Redis의 장점은 무엇인가요?
**A:** RDBMS에서 여러 테이블을 조인한 결과가 여러번 사용되는 경우에는 Redis 캐싱을 통해 빠른 속도를 기대할 수 있습니다.

## 5. Redis 영속성

### Q13. Redis의 영속성을 위한 두 가지 방식을 설명해보세요.
**A:**
- **RDB (Redis Database)**: 특정 시점의 스냅샷을 바이너리 파일로 저장
- **AOF (Append Only File)**: 모든 쓰기 명령을 로그 파일에 순차적으로 기록

## 6. MSA에서 Redis 메시지 브로커

### Q14. Redis를 메시지 브로커로 사용하는 방법 3가지를 설명해보세요.

#### 1) List를 활용한 메시징 큐
**Q:** List 메시징 큐의 동작 방식과 특징은?

**A:**
- **동작**: Producer → [LPUSH] List [RPOP] → Consumer
- **명령어**: `LPUSH`/`RPUSH`로 메시지 추가, `LPOP`/`RPOP`로 메시지 소비
- **특징**: **블로킹 기능** (`BLPOP`, `BRPOP`)으로 메시지 대기 및 즉시 처리

#### 2) Pub/Sub (발행/구독)
**Q:** Pub/Sub의 동작 방식과 특징은?

**A:**
- **동작**: Publisher → Channel → Multiple Subscribers
- **특징**: 하나의 채널에 메시지를 발행하면, 해당 채널을 구독하는 모든 소비자가 실시간으로 메시지를 수신
- **주의점**: **일회성** 메시지로 전달 후 즉시 삭제

#### 3) Stream (스트림)
**Q:** Redis Stream의 동작 방식과 특징은?

**A:**
- **동작**: Producer → Stream → Consumer Group → Multiple Consumers
- **영감**: Apache Kafka에서 영감을 받아 만들어진 자료 구조
- **특징**:
    - **Append-Only** 방식으로 데이터(메시지)가 계속 누적
    - 카프카처럼 데이터를 읽을 수 있는 **Consumer**, **Consumer Group** 존재
    - 저장된 데이터를 시간대별로 검색하는 것도 가능

---

## 📚 참고 문헌
- **실전 레디스** by 하야시 쇼고 - CHAPTER_01_레디스의 시작
- **개발자를 위한 레디스 (Redis for Developers)** by 김가림 - CHAPTER_01_마이크로서비스 아키텍처와 레디스